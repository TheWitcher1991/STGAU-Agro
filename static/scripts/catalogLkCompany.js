"use strict";!function(l){let i=window.location.search.replace("?","").split("&").reduce((function(l,i){let e=i.split("=");return l[decodeURIComponent(e[0])]=decodeURIComponent(e[1]),l}),{});console.log(i.id);let e=l(".form-company-vac");l(".company-vacancy");function _catalogError(i){l(".vac-list-ul").html('<span class="wow fadeIn vac-error">Упс! Возникла непредвиденная ошибка</span>'),console.log(i)}function _getData(){l(".dl-h").html('<span><div class="placeholder-item jx-title"></div></span>'),l(".vac-list-ul").html(' <div id="placeholder-main">\n <div class="placeholder">\n <div style="width: 100%;">\n <div class="placeholder-item jx-nav"></div>\n <div class="placeholder-item jx-title"></div>\n <div class="placeholder-item jx-little" style="margin: 6px 0 14px 0;"></div>\n <div class="mx-flex" style="margin: 0;">\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n </div>\n <div style="margin: 16px 0 0 0;" class="placeholder-item mx-bigger"></div>\n <div style="margin: 6px 0 10px 0;" class="placeholder-item mx-middle"></div>\n </div>\n </div>\n <div class="placeholder">\n <div style="width: 100%;">\n <div class="placeholder-item jx-nav"></div>\n <div class="placeholder-item jx-title"></div>\n <div class="placeholder-item jx-little" style="margin: 6px 0 14px 0;"></div>\n <div class="mx-flex" style="margin: 0;">\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n </div>\n <div style="margin: 16px 0 0 0;" class="placeholder-item mx-bigger"></div>\n <div style="margin: 6px 0 10px 0;" class="placeholder-item mx-middle"></div>\n </div>\n </div>\n <div class="placeholder">\n <div style="width: 100%;">\n <div class="placeholder-item jx-nav"></div>\n <div class="placeholder-item jx-title"></div>\n <div class="placeholder-item jx-little" style="margin: 6px 0 14px 0;"></div>\n <div class="mx-flex" style="margin: 0;">\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n </div>\n <div style="margin: 16px 0 0 0;" class="placeholder-item mx-bigger"></div>\n <div style="margin: 6px 0 10px 0;" class="placeholder-item mx-middle"></div>\n </div>\n </div>\n <div class="placeholder">\n <div style="width: 100%;">\n <div class="placeholder-item jx-nav"></div>\n <div class="placeholder-item jx-title"></div>\n <div class="placeholder-item jx-little" style="margin: 6px 0 14px 0;"></div>\n <div class="mx-flex" style="margin: 0;">\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n </div>\n <div style="margin: 16px 0 0 0;" class="placeholder-item mx-bigger"></div>\n <div style="margin: 6px 0 10px 0;" class="placeholder-item mx-middle"></div>\n </div>\n </div><div class="placeholder">\n <div style="width: 100%;">\n <div class="placeholder-item jx-nav"></div>\n <div class="placeholder-item jx-title"></div>\n <div class="placeholder-item jx-little" style="margin: 6px 0 14px 0;"></div>\n <div class="mx-flex" style="margin: 0;">\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n </div>\n <div style="margin: 16px 0 0 0;" class="placeholder-item mx-bigger"></div>\n <div style="margin: 6px 0 10px 0;" class="placeholder-item mx-middle"></div>\n </div>\n </div><div class="placeholder">\n <div style="width: 100%;">\n <div class="placeholder-item jx-nav"></div>\n <div class="placeholder-item jx-title"></div>\n <div class="placeholder-item jx-little" style="margin: 6px 0 14px 0;"></div>\n <div class="mx-flex" style="margin: 0;">\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n <div class="placeholder-item mx-flit"></div>\n </div>\n <div style="margin: 16px 0 0 0;" class="placeholder-item mx-bigger"></div>\n <div style="margin: 6px 0 10px 0;" class="placeholder-item mx-middle"></div>\n </div>\n </div>\n\n\n </div>');let a=`id=${i.id}&${e.serialize()}`;setTimeout((function(){l.ajax({url:"/scripts/filter-lk-company",data:a,type:"POST",cache:!1,dataType:"json",error:_catalogError,success:function(i){"success"===i.code?(l(".vac-list-ul").html(""),l(".search-lk").removeAttr("disabled"),function _catalogSuccess(i){l(".dl-h").html(`Найдено ${i.data.count} вакансий`);let e=i.data.list;if(console.log(i.data.page),i.data.count>0)for(let i in e){let a=e[i],d="";d=a.salary>0&&a.salary_end>0?`от ${a.salary} до ${a.salary_end}`:a.salary>0&&(""==a.salary_end||a.salary_end<=0)?`от ${a.salary}`:(""==a.salary||a.salary<=0)&&a.salary_end>0?`до ${a.salary_end}`:"по договоренности",l(".vac-list-ul").append(` \n <li class="">\n <div class="vac-name">\n <a target="_blank" href="/job?id=${a.id}">${a.title}</a>\n <span>\n ${d}\n\n <i class="mdi mdi-currency-rub"></i>\n </span>\n <ul class="vl-b-tag">\n <li title="Адрес"><i class="mdi mdi-crosshairs-gps"></i> ${a.address}</li>\n <li title="Опыт работы"><i class="mdi mdi-briefcase-variant-outline"></i> ${a.exp}</li>\n <li title="График работы"><i class="mdi mdi-calendar-month-outline"></i> ${a.time}</li>\n </ul>\n </div>\n <div class="vac-text">\n <span>\n ${a.text?a.text.substr(0,500).replace(/(<([^>]+)>)/gi,"")+"...":""}\n </span>\n </div>\n </li>\n \n `)}else l(".vac-list-ul").html('<span class="vac-none">Вакансии не найдены</span>')}(i)):_catalogError(i)}})}),1e3)}l(".search-lk").on("click",(function(){l(".search-lk").attr("disabled","true"),_getData()})),function init(){_getData()}()}(jQuery);