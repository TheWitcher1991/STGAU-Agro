!function(){'use strict';var e;(e=jQuery)(document).ready((function(){function s(s){let a=(r=100,Math.floor(Math.random()*r));var r;e('.errors-block-fix').html(`\n                            <div class="alert-block alert-${a}">\n                                <div>\n                                    <span>${s}</span>\n                                    </br />\n                                </div>\n                                <span class="exp-ed"><i class="mdi mdi-close"></i></span>  \n                            </div>\n                            `),e('.errors-block-fix > div').css('display','flex'),setTimeout((()=>{e(`.alert-${a}`).remove()}),3e3)}e(document).on('click','.save-push',(function(a){a.preventDefault(),e('.save-push').attr('disabled','true'),e('.save-push').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e.ajax({url:'/scripts/profile-js',data:`${e('.form-password').serialize()}&MODULE_SETTING_MAIL=1`,type:'POST',cache:!1,dataType:'json',error:a=>{s('Произошла ошибка. Повторите'),e('.save-push').removeAttr('disabled'),e('.save-push').html('Сохранить')},success:function(a){'success'===a.code?(s('Изменения внесены'),e('.save-push').removeAttr('disabled'),e('.save-push').html('Сохранить')):(s('Произошла ошибка. Повторите'),e('.save-push').removeAttr('disabled'),e('.save-push').html('Сохранить'))}})})),e(document).on('click','.save-pass',(function(a){a.preventDefault(),e('.save-pass').attr('disabled','true'),e('.save-pass').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e('.empty').fadeOut(50),e('select').removeClass('errors'),e('input').removeClass('errors'),e('.label-block .select2-container--default .select2-selection--single').css('border','1px solid #cdd0d5'),setTimeout((function(){e.ajax({url:'/scripts/profile-js',data:`${e('.form-password').serialize()}&MODULE_SAVE_PASS=1`,type:'POST',cache:!1,dataType:'json',error:e=>{s('Произошла ошибка. Повторите')},success:function(a){if('validate_error'===a.code){let s=a.error;for(let a in s)e(`#${a}`).addClass('errors'),e(`#${a}`).text(s[a]),e(`.e-${a}`).fadeIn(50),e(`.e-${a}`).text(s[a]);e('.save-pass').removeAttr('disabled'),e('.save-pass').html('Изменить')}else'success'===a.code?(e('.save-pass').removeAttr('disabled'),e('.save-pass').html('Изменить'),s('Пароль изменен'),e('.form-password')[0].reset()):(s('Произошла ошибка. Повторите'),e('.form-password')[0].reset(),e('.save-pass').removeAttr('disabled'),e('.save-pass').html('Изменить'))}})}),500)})),e(document).on('click','.save-resume',(function(a){a.preventDefault(),e('.save-resume').attr('disabled','true'),e('.save-resume').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e('.empty').fadeOut(50),e('select').removeClass('errors'),e('input').removeClass('errors'),e('textarea').removeClass('errors'),e('.label-block .select2-container--default .select2-selection--single').css({border:'1px solid #cdd0d5',background:'#ffffff'}),setTimeout((function(){e.ajax({url:'/scripts/profile-js',data:`${e('.form-profile').serialize()}&MODULE_SAVE=1`,type:'POST',cache:!1,dataType:'json',error:e=>{s('Произошла ошибка. Повторите'),console.log(e)},success:function(a){if('validate_error'===a.code){let r=a.error;for(let s in r)'faculty'===s&&e('span[aria-controls="select2-faculty-container"]').css({border:'1px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),'direction'===s&&e('span[aria-controls="select2-direction-container"]').css({border:'1px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),'degree'===s&&e('span[aria-controls="select2-degree-container"]').css({border:'1px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),e(`#${s}`).addClass('errors'),e(`.e-${s}`).fadeIn(50);e('.save-resume').removeAttr('disabled'),e('.save-resume').html('Отправить'),s('Ошибка валидации')}else'success'===a.code?(e('.save-resume').removeAttr('disabled'),e('.save-resume').html('Сохранить'),s('Изменения внесены')):(s('Произошла ошибка. Повторите'),console.log(a))}})}),500)})),e(document).on('click','.save-resume-education',(function(a){a.preventDefault(),e('.save-resume-education').attr('disabled','true'),e('.save-resume-education').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e('.empty').fadeOut(50),e('select').removeClass('errors'),e('input').removeClass('errors'),e('textarea').removeClass('errors'),e('.label-block .select2-container--default .select2-selection--single').css({border:'1px solid #cdd0d5',background:'#ffffff'}),setTimeout((function(){e.ajax({url:'/scripts/profile-js',data:`${e('.form-profile-education').serialize()}&MODULE_SAVE_EDUCATION=1`,type:'POST',cache:!1,dataType:'json',error:a=>{s('Произошла ошибка. Повторите'),e('.save-resume-education').removeAttr('disabled'),e('.save-resume-education').html('Сохранить'),console.log(a)},success:function(a){if('validate_error'===a.code){let r=a.error;for(let s in r)'faculty'===s&&e('span[aria-controls="select2-faculty-container"]').css({border:'2px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),'direction'===s&&e('span[aria-controls="select2-direction-container"]').css({border:'2px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),'degree'===s&&e('span[aria-controls="select2-degree-container"]').css({border:'2px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),e(`#${s}`).addClass('errors'),e(`.e-${s}`).fadeIn(50);e('.save-resume-education').removeAttr('disabled'),e('.save-resume-education').html('Сохранить'),s('Ошибка валидации')}else'success'===a.code?(e('.save-resume-education').removeAttr('disabled'),e('.save-resume-education').html('Сохранить'),s('Изменения внесены')):(e('.save-resume-education').removeAttr('disabled'),e('.save-resume-education').html('Сохранить'),s('Произошла ошибка. Повторите'),console.log(a))}})}),500)})),e(document).on('click','.save-company',(function(a){a.preventDefault(),e('.save-company').attr('disabled','true'),e('.save-company').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e('.empty').fadeOut(50),e('select').removeClass('errors'),e('input').removeClass('errors'),e('textarea').removeClass('errors'),e('.label-block .select2-container--default .select2-selection--single').css({border:'1px solid #cdd0d5',background:'#ffffff'}),setTimeout((function(){e.ajax({url:'/scripts/profile-js',data:`${e('.form-profile').serialize()}&MODULE_SAVE=1`,type:'POST',cache:!1,dataType:'json',error:e=>{s('Произошла ошибка. Повторите')},success:function(a){if('validate_error'===a.code){let r=a.error;for(let s in r)'address'===s&&e('span[aria-controls="select2-address-container"]').css({border:'1px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),e(`#${s}`).addClass('errors'),e(`.e-${s}`).fadeIn(50);e('.save-company').removeAttr('disabled'),e('.save-company').html('Сохранить'),s('Ошибка валидации')}else'success'===a.code?(e('.save-company').removeAttr('disabled'),e('.save-company').html('Отправить'),s('Изменения внесены')):s('Произошла ошибка. Повторите')}})}),500)})),e(document).on('click','.mail-go',(function(a){a.preventDefault(),e('.mail-go').attr('disabled','true'),e('.mail-go').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e('.e-email').fadeOut(50),e('.email-inp').removeClass('errors'),e.ajax({url:'/scripts/profile-js',data:`mail=${e('.email-inp').val()}&MODULE_EDIT_MAIL=1`,type:'POST',cache:!1,dataType:'json',error:a=>{s('Произошла ошибка. Повторите'),e('.mail-go').removeAttr('disabled'),e('.mail-go').val('Отправить')},success:function(a){'validate_error'===a.code?(e('.email-inp').addClass('errors'),e('.e-email').show(),e('.mail-go').removeAttr('disabled'),e('.mail-go').html('Отправить')):'success'===a.code?(e('.access-block').html('Сообщение успешно отправлено'),e('.email-inp').val(''),e('.mail-go').removeAttr('disabled'),e('.mail-go').html('Отправить'),e('.edit-mail-box .label-block').remove(),e('.edit-mail-box .a-bth').remove(),e('.edit-mail-box .label-b-info').remove()):(s('Произошла ошибка. Повторите'),e('.mail-go').removeAttr('disabled'),e('.mail-go').html('Отправить'))}})})),e(document).on('click','.add-skill',(function(a){a.preventDefault(),e.ajax({url:'/scripts/profile-js',data:`text=${e('.skill').val()}&MODULE_ADD_SKILL=1`,type:'POST',cache:!1,dataType:'json',error:e=>{s('Произошла ошибка. Повторите')},success:function(a){'success'===a.code?(e('.skill-list').prepend(a.html),e('.skill').val('')):s('Произошла ошибка. Повторите')}})})),e(document).on('click','.add-lang',(function(a){a.preventDefault(),''!==e.trim(e('.lang').val())&&''!==e.trim(e('.lvl').val())&&e.ajax({url:'/scripts/profile-js',data:`lang=${e('.lang').val()}&lvl=${e('.lvl').val()}&MODULE_ADD_LANG=1`,type:'POST',cache:!1,dataType:'json',error:e=>{s('Произошла ошибка. Повторите')},success:function(a){'success'===a.code?(e('.lang-list').prepend(a.html),e('.lang').val(''),e('.lvl').val('')):s('Произошла ошибка. Повторите')}})})),e(document).on('click','.dle-img button',(function(a){a.preventDefault(),e(this).html('<i class="mdi mdi-reload reload-bth"></i>'),e(this).attr('disabled','true');let r=e(this).attr('data-id'),t=e(this).attr('data-file');console.log(r),e.ajax({url:'/scripts/profile-js',data:`id=${r}&file=${t}&MODULE_DELETE_FILE=1`,type:'POST',cache:!1,dataType:'json',error:e=>{s('Произошла ошибка. Повторите')},success:function(a){'success'===a.code?e(`div[data-id="${r}"]`).remove():(e(`div[data-id="${r}"]`).remove(),s('Произошла ошибка. Повторите'))}})}))}))}();
