!function(){'use strict';!function(e){function s(s){e('.errors-block').html('\n            <div class="alert-block wow fadeIn">\n                    <div>\n                        <span>Возникла ошибка. Повторите</span>\n                    </div>\n                    <span onclick="$(this).parent().remove()" class="exp-ed"><i class="mdi mdi-close"></i></span>\n                    </div>\n        '),console.log(s)}e(document).on('click','.eye-password',(function(){e(this).hasClass('in-pass')?(e(this).removeClass('mdi-eye-outline in-pass'),e(this).addClass('mdi-eye-off-outline off-pass'),e(this).siblings('input').attr('type','text')):(e(this).removeClass('mdi-eye-off-outline off-pass'),e(this).addClass('mdi-eye-outline in-pass'),e(this).siblings('input').attr('type','password'))})),e('.reg-user').on('click',(function(t){e('.empty').fadeOut(50),e('input').removeClass('errors'),e('select').removeClass('errors'),e('.label-block .select2-container--default .select2-selection--single').css({border:'2px solid #cdd0d5',background:'#ffffff'});const a=Math.max(this.offsetWidth,this.offsetHeight),r=t.offsetX-a/2,o=t.offsetY-a/2,l=document.createElement('span');l.className='wave',l.style.cssText=`width:${a}px;height:${a}px;top:${o}px;left:${r}px`,this.appendChild(l),setTimeout((()=>l.remove()),500),function(){e('.label-block .select2-container--default .select2-selection--single').css({border:'2px solid transparent',background:'rgb(245, 246, 248)'});let t=document.querySelectorAll('.form-create-user input, .form-create-user select'),a=0;t.forEach((s=>{let t=s.getAttribute('data-name');'password'===t&&s.value.length<8&&(e(`#${t}`).addClass('errors'),e(`.e-${t}`).fadeIn(50),a+=1),''===e.trim(s.value)&&'password'!==t&&('direction'===t&&e('span[aria-controls="select2-direction-container"]').css({border:'2px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),e(`#${t}`).addClass('errors'),'mail-2'!==t&&'mail-3'!==t||e('#email').addClass('errors'),e(`.e-${t}`).fadeIn(50),a+=1)})),0===a&&(e('.label-block .select2-container--default .select2-selection--single').css('border','2px solid transparent'),e('.reg-user').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e('.reg-user').attr('disabled','true'),e.ajax({url:'/scripts/create-user-js',data:`${e('.form-create-user').serialize()}&MODULE_USER=1`,type:'POST',cache:!1,dataType:'json',error:t=>{s(t),e('.reg-user').html('Продолжить'),document.querySelector('.reg-user').removeAttribute('disabled')},success:function(t){if('validate_error'===t.code){let s=t.error;for(let t in s)'direction'===t&&e('span[aria-controls="select2-direction-container"]').css({border:'2px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),e(`#${t}`).addClass('errors'),'mail-2'!==t&&'mail-3'!==t||e('#email').addClass('errors'),e(`.e-${t}`).fadeIn(50);e('.reg-user').html('Продолжить'),document.querySelector('.reg-user').removeAttribute('disabled')}else'success'===t.code?(e('.errors-block').html('\n                            <div class="alert-block wow fadeIn">\n                                    <div>\n                                        <span>Отлично! Немного подождите...</span>\n                                    </div>\n                                    <span onclick="$(this).parent().remove()" class="exp-ed"><i class="mdi mdi-close"></i></span>\n                                    </div>\n                        '),e('.reg-user').html('Подождите...'),window.location.href=t.link):(s(t),e('.reg-user').html('Продолжить'),document.querySelector('.reg-user').removeAttribute('disabled'))}}))}()})),e('.reg-company').on('click',(function(t){e('.empty').fadeOut(50),e('input').removeClass('errors'),e('select').removeClass('errors'),e('.label-block .select2-container--default .select2-selection--single').css({border:'2px solid #cdd0d5',background:'#ffffff'});const a=Math.max(this.offsetWidth,this.offsetHeight),r=t.offsetX-a/2,o=t.offsetY-a/2,l=document.createElement('span');l.className='wave',l.style.cssText=`width:${a}px;height:${a}px;top:${o}px;left:${r}px`,this.appendChild(l),setTimeout((()=>l.remove()),500),function(){e('.label-block .select2-container--default .select2-selection--single').css({border:'2px solid transparent',background:'rgb(245, 246, 248)'});let t=document.querySelectorAll('.form-create-company input, .form-create-company select'),a=0;t.forEach((s=>{let t=s.getAttribute('data-name');'password'===t&&s.value.length<8&&(e(`#${t}`).addClass('errors'),e(`.e-${t}`).fadeIn(50),a+=1),''===e.trim(s.value)&&'password'!==t&&('address'===t&&e('span[aria-controls="select2-address-container"]').css({border:'2px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),e(`#${t}`).addClass('errors'),'mail-2'!==t&&'mail-3'!==t||e('#email').addClass('errors'),e(`.e-${t}`).fadeIn(100),console.log(t),a+=1)})),0===a&&(e('.reg-company').html('<svg class="spinner-bth" viewBox="0 0 50 50">\n                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>\n            </svg>'),e('.reg-company').attr('disabled','true'),e.ajax({url:'/scripts/create-user-js',data:`${e('.form-create-company').serialize()}&MODULE_COMPANY=1`,type:'POST',cache:!1,dataType:'json',error:t=>{s(t),e('.reg-company').html('Продолжить'),document.querySelector('.reg-company').removeAttribute('disabled')},success:function(t){if('validate_error'===t.code){let s=t.error;for(let t in s)'address'===t&&e('span[aria-controls="select2-address-container"]').css({border:'2px solid #ff4c4c',background:'rgba(255,22,46,.06)'}),'mail-2'!==t&&'mail-3'!==t||e('#email').addClass('errors'),e(`#${t}`).addClass('errors'),e(`.e-${t}`).fadeIn(50);e('.reg-company').html('Продолжить'),document.querySelector('.reg-company').removeAttribute('disabled')}else'success'===t.code?(e('.errors-block').html('\n                            <div class="alert-block wow fadeIn">\n                                    <div>\n                                        <span>Отлично! Немного подождите...</span>\n                                    </div>\n                                    <span onclick="$(this).parent().remove()" class="exp-ed"><i class="mdi mdi-close"></i></span>\n                                    </div>\n                        '),e('.reg-company').html('Подождите...'),window.location.href=t.link):(s(t),e('.reg-company').html('Продолжить'),document.querySelector('.reg-company').removeAttribute('disabled'))}}))}()})),e('.login-button').on('click',(function(e){const s=Math.max(this.offsetWidth,this.offsetHeight),t=e.offsetX-s/2,a=e.offsetY-s/2,r=document.createElement('span');r.className='wave',r.style.cssText=`width:${s}px;height:${s}px;top:${a}px;left:${t}px`,this.appendChild(r),setTimeout((()=>r.remove()),500)})),e(document).ready((function(){e('.a-p > a').on('click',(s=>{s.preventDefault(),e('#auth').addClass('auth-b-act'),e('#auth .auth-wrapper').addClass('auth-c-act')})),e('.form-close').on('click',(s=>{s.preventDefault(),e('#auth').removeClass('auth-b-act'),e('#auth .auth-wrapper').removeClass('auth-c-act'),e('#auth .lost-wrapper').removeClass('auth-c-act')})),e('.lost-pass-a').on('click',(s=>{s.preventDefault(),e('#auth .auth-wrapper').removeClass('auth-c-act'),e('#auth .lost-wrapper').addClass('auth-c-act')}))}))}(jQuery)}();
